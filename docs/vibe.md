

Deep search into code base and rspec converage. Find some quick win to increase rspec converge before major refactor. Main aim is to increase the line converage. Not comprhensive test to all corner cases.

Deep search into code base. Give me a report and also instructions to implement for future coding agent. one .md file per task. In /docs/internal/

Before start the task DEEP research into all the code base. Methodically. Do not rush. Create intermedate document in .md if need to. Spend as much token and thinking time as you can. 

BEFORE COMPLETE:
- generate task completion report in /docs/change_notes/

- follow document format convention